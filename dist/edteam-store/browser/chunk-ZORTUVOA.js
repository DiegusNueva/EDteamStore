import{$ as W,C as j,D as L,E as T,F as J,G as q,H as K,I as U,J as O,K as Q,a as P,g as _,h as y,i as R,j as Y,k as $,l as I,m as s,n as x,o as M,q as w,s as N,t as F,v as k,x as z,z as B}from"./chunk-CKMUKVGC.js";import{Bb as i,Cb as r,Db as d,Eb as g,Fb as v,Jb as S,Pc as C,Sc as A,Wb as o,Ya as m,Yb as G,Za as p,aa as D,ba as h,fa as V,ka as E,la as b,pb as u,rb as l}from"./chunk-JCEMEMJZ.js";function se(e,c){e&1&&(i(0,"mat-error"),o(1," Este campo es obligatorio "),r())}function pe(e,c){e&1&&(i(0,"mat-error"),o(1," Ingrese un email v\xE1lido "),r())}function ce(e,c){e&1&&(i(0,"mat-error"),o(1," Este campo es obligatorio "),r())}var X=(()=>{class e{authService;fb;router;snackBar;form;constructor(t,n,a,f){this.authService=t,this.fb=n,this.router=a,this.snackBar=f,this.form=this.fb.group({email:["",[s.required,s.email]],password:["",s.required]})}controlHasError(t,n){return this.form.controls[t].hasError(n)}login(){if(this.form.invalid)return;let t=this.form.value;this.authService.login(t).subscribe({next:()=>{this.showSnackBar("Inicio de sesi\xF3n exitoso"),this.router.navigate(["home"])},error:()=>{this.showSnackBar("Error en el inicio de sesi\xF3n. Por favor, intenta de nuevo.")}})}showSnackBar(t){this.snackBar.open(t,"Cerrar",{duration:3e3})}static \u0275fac=function(n){return new(n||e)(p($),p(k),p(_),p(j))};static \u0275cmp=E({type:e,selectors:[["app-login"]],decls:23,vars:5,consts:[[1,"container","py-5"],[1,"fw-bold","text-center"],[1,"row","justify-content-center","my-5"],[1,"col-md-6","col-lg-4"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"mb-3","w-100"],["matInput","","type","email","placeholder","Email","formControlName","email"],[4,"ngIf"],["matInput","","type","password","placeholder","Contrase\xF1a","formControlName","password"],["type","submit","mat-raised-button","","color","primary",1,"w-100",3,"disabled"],[1,"mt-3","text-center"],["routerLink","/signup",1,"ms-2"]],template:function(n,a){n&1&&(i(0,"div",0)(1,"h1",1),o(2,"Inicio de sesi\xF3n"),r(),i(3,"div",2)(4,"div",3)(5,"form",4),S("ngSubmit",function(){return a.login()}),i(6,"mat-form-field",5)(7,"mat-label"),o(8,"Email"),r(),d(9,"input",6),u(10,se,2,0,"mat-error",7)(11,pe,2,0,"mat-error",7),r(),i(12,"mat-form-field",5)(13,"mat-label"),o(14,"Contrase\xF1a"),r(),d(15,"input",8),u(16,ce,2,0,"mat-error",7),r(),i(17,"button",9),o(18," Ingresar "),r(),i(19,"div",10),o(20," A\xFAn no tienes una cuenta? "),i(21,"a",11),o(22," Reg\xEDstrate aqu\xED "),r()()()()()()),n&2&&(m(5),l("formGroup",a.form),m(5),l("ngIf",a.controlHasError("email","required")),m(),l("ngIf",a.controlHasError("email","email")),m(5),l("ngIf",a.controlHasError("password","required")),m(),l("disabled",a.form.invalid))},dependencies:[C,y,w,I,x,M,N,F,q,L,T,U,B]})}return e})();var Z=(()=>{class e{http;baseUrl=Y.apiUrl;constructor(t){this.http=t}signUp(t){let n=`${this.baseUrl}/customers`;return this.http.post(n,t)}static \u0275fac=function(n){return new(n||e)(V(P))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function de(e,c){e&1&&(i(0,"mat-error"),o(1," Este campo es obligatorio "),r())}function fe(e,c){e&1&&(i(0,"mat-error"),o(1," Este campo es obligatorio "),r())}function ge(e,c){e&1&&(g(0),o(1," Este campo es obligatorio "),v())}function ve(e,c){e&1&&(g(0),o(1," Ingrese un email v\xE1lido "),v())}function Se(e,c){e&1&&(g(0),o(1," Este campo es obligatorio "),v())}function he(e,c){e&1&&(g(0),o(1," Ingrese una contrase\xF1a de al menos 4 caracteres. "),v())}var ee=(()=>{class e{fb;router;snackBar;signUpService;form;passwordVisible=!1;constructor(t,n,a,f){this.fb=t,this.router=n,this.snackBar=a,this.signUpService=f,this.form=this.fb.group({firstName:["",[s.required]],lastName:["",[s.required]],email:["",[s.required,s.email]],password:["",[s.required,s.minLength(4)]]})}controlHasError(t,n){return this.form.controls[t].hasError(n)}signup(){if(this.form.invalid)return;let t=this.form.value;this.signUpService.signUp(t).subscribe({next:()=>{this.showSnackBar("Registro exitoso"),this.router.navigate(["home"])},error:()=>{this.showSnackBar("Error en el registro. Por favor, intenta de nuevo.")}})}showSnackBar(t){this.snackBar.open(t,"Cerrar",{duration:3e3})}static \u0275fac=function(n){return new(n||e)(p(k),p(_),p(j),p(Z))};static \u0275cmp=E({type:e,selectors:[["app-signup"]],decls:39,vars:10,consts:[[1,"container","py-5"],[1,"fw-bold","text-center"],[1,"row","justify-content-center","my-5"],[1,"col-md-6","col-lg-4"],["autocomplete","off",1,"mt-5",3,"ngSubmit","formGroup"],["appearance","outline",1,"mb-2","w-100"],["matInput","","type","text","placeholder","Nombres","formControlName","firstName"],[4,"ngIf"],["matInput","","type","text","placeholder","Apellidos","formControlName","lastName"],["matInput","","type","text","placeholder","Correo electr\xF3nico","formControlName","email"],["matInput","","placeholder","Contrase\xF1a","formControlName","password",3,"type"],["matSuffix","",3,"click"],[1,"text-end"],["mat-raised-button","","color","primary",1,"w-100",3,"disabled"],[1,"mt-3","text-center"],["routerLink","/",1,"ms-2"]],template:function(n,a){n&1&&(i(0,"div",0)(1,"h1",1),o(2,"Registro de usuario"),r(),i(3,"div",2)(4,"div",3)(5,"form",4),S("ngSubmit",function(){return a.signup()}),i(6,"mat-form-field",5)(7,"mat-label"),o(8,"Nombres"),r(),d(9,"input",6),u(10,de,2,0,"mat-error",7),r(),i(11,"mat-form-field",5)(12,"mat-label"),o(13,"Apellidos"),r(),d(14,"input",8),u(15,fe,2,0,"mat-error",7),r(),i(16,"mat-form-field",5)(17,"mat-label"),o(18,"Correo electr\xF3nico"),r(),d(19,"input",9),i(20,"mat-error"),u(21,ge,2,0,"ng-container",7)(22,ve,2,0,"ng-container",7),r()(),i(23,"mat-form-field",5)(24,"mat-label"),o(25,"Contrase\xF1a"),r(),d(26,"input",10),i(27,"mat-icon",11),S("click",function(){return a.passwordVisible=!a.passwordVisible}),o(28),r(),i(29,"mat-error"),u(30,Se,2,0,"ng-container",7)(31,he,2,0,"ng-container",7),r()(),i(32,"div",12)(33,"button",13),o(34," Registrarme "),r(),i(35,"div",14),o(36," \xBFYa tienes una cuenta? "),i(37,"a",15),o(38," Inicia sesi\xF3n "),r()()()()()()()),n&2&&(m(5),l("formGroup",a.form),m(5),l("ngIf",a.controlHasError("firstName","required")),m(5),l("ngIf",a.controlHasError("lastName","required")),m(6),l("ngIf",a.controlHasError("email","required")),m(),l("ngIf",a.controlHasError("email","pattern")),m(4),l("type",a.passwordVisible?"text":"password"),m(2),G(" ",a.passwordVisible?"visibility_off":"visibility"," "),m(2),l("ngIf",a.controlHasError("password","required")),m(),l("ngIf",a.controlHasError("password","minlength")),m(2),l("disabled",!a.form.valid))},dependencies:[C,y,w,I,x,M,N,F,q,L,T,J,U,B,Q]})}return e})();var Ee=[{path:"",component:X},{path:"signup",component:ee}],te=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=b({type:e});static \u0275inj=h({imports:[R.forChild(Ee),R]})}return e})();var Ae=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=b({type:e});static \u0275inj=h({imports:[A,te,z,K,O,W]})}return e})();export{Ae as UserModule};
